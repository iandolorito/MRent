@model MRent.Models.Rental

@{
    ViewData["Title"] = "Details";
}

<h1>Rental Details</h1>

<div>
    
    <hr />
    
</div>

<div id="RentalDetailCollapse"> 
    <div class="yow">
      
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th> Customer Information</th>
                    <th> Movie Information</th>
                    <th> Rental Information</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <strong>ID: </strong> @Model!.Customer?.Id <br />
                        <strong>Name: </strong> @Model.Customer?.FirstName @Model.Customer?.LastName <br />
                        <strong>Email: </strong> @Model.Customer?.Email <br />
                        <strong>Phone Number: </strong> @Model.Customer?.PhoneNumber <br />
                        <strong>Address: </strong> @Model.Customer?.Address <br />
                        <strong>Sex: </strong> @Model.Customer?.Sex <br />
                    </td>
                    <td>
                        <strong>ID: </strong> @Model.Movie?.Id<br />
                        <strong>Title: </strong> @Model.Movie?.Title<br />
                        <strong>Director: </strong> @Model.Movie?.Director<br />
                        <strong>Genre: </strong> @Model.Movie?.Genre<br />
                        <strong>Price: </strong> @Model.Movie?.Price.ToString("N2")<br />
                        <strong>Release Date: </strong> @Model.Movie?.ReleaseDate.ToString("yyyy-MM-dd")<br />
                    </td>
                    <td>
                        <strong>Rent Date: </strong> @Model.RentDate.ToString("yyyy-MM-dd")<br />
                        <strong>Return Date: </strong> @(Model.ReturnDate.ToString("yyyy-MM-dd") ?? "Not Retured")<br />

                        <strong>Rental Status:</strong>
                        @if(Model.ReturnDate != null){
                            <button class="btn btn-primary" disabled> Retured </button>
                        }
                        else{
                            <button class="btn btn-warning" onclick="markAsReturned(@Model.Id)"> Pending </button>
                        }
                    </td>
                </tr>
            </tbody>

        </table>
    </div>
</div>
<div class="submit-button">
    <a asp-action="Edit" asp-route-id="@Model?.Id" class="btn btn-primary">Edit</a> |
    <a asp-action="Index" class="btn btn-secondary">Back</a>
</div>